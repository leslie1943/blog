#### çœŸå®DOM æ“ä½œé—®é¢˜
- `çœŸå®DOM`çš„æ›´æ–°è¿œè¿œè¶…è¿‡å…¶å¿…é¡»è¿›è¡Œçš„æ›´æ–°, å› ä¸º`çœŸå®DOM`ä¸­çš„å±æ€§å¤šè¾¾å‡ ç™¾ä¸ª.

#### ä»€ä¹ˆæ˜¯Virtual DOM
- `Virtual DOM`å°±æ˜¯`JavaScript`å¯¹è±¡, ç”¨ `JavaScript`å¯¹è±¡ æè¿°`çœŸå®DOM`ä¿¡æ¯(å±æ€§,å­èŠ‚ç‚¹)
- `Virtual DOM`å¯ä»¥ç†è§£æˆDOMå¯¹è±¡çš„å‰¯æœ¬

#### Virtual DOM å¦‚ä½•æå‡æ•ˆç‡
- ç²¾å‡†æ‰¾å‡ºå‘ç”Ÿå˜åŒ–çš„DOMå¯¹è±¡, åªæ›´æ–°å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†
- åœ¨ `React` ç¬¬ä¸€æ¬¡ åˆ›å»º `DOM` å¯¹è±¡å, ä¼šä¸ºæ¯ä¸ª `DOM` å¯¹è±¡åˆ›å»ºå…¶å¯¹åº”çš„ `Virtual DOM` å¯¹è±¡, åœ¨DOMå¯¹è±¡å‘ç”Ÿæ›´æ–°ä¹‹å‰,`React` ä¼šå…ˆæ›´æ–°æ‰€æœ‰çš„`Virtual DOM` å¯¹è±¡, ç„¶å `React`ä¼šå°†æ›´æ–°åçš„ `Virtual DOM` å¯¹è±¡ å’Œ æ›´æ–°å‰çš„ `Virtual DOM` è¿›è¡Œæ¯”è¾ƒ, ä»è€Œæ‰¾å‡ºå‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†, `React` ä¼šå°†å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†æ›´æ–°åˆ°çœŸå®çš„ DOM å¯¹è±¡ä¸­. `React`ä»…æ›´æ–°å¿…è¦æ›´æ–°çš„éƒ¨åˆ†, ä¸ä¼šé‡æ–°æ¸²æŸ“æ•´ä¸ª `DOM Tree`
- `Virtual DOM` å¯¹è±¡çš„æ›´æ­£å’Œæ¯”è¾ƒå‘ç”Ÿåœ¨å†…å­˜ä¸­ï¼Œä¸ä¼šåœ¨è§†å›¾ä¸­æ¸²æŸ“ä»»ä½•å†…å®¹ï¼Œæ‰€ä»¥è¿™ä¸€éƒ¨åˆ†çš„æ€§èƒ½æŸè€—æˆæœ¬æ˜¯å¾®ä¸è¶³é“çš„.


#### åˆ›å»º Virtual DOM
- 1. html å®šä¹‰ æ ¹èŠ‚ç‚¹
- 2. å®šä¹‰ å¼€æ”¾ç»™æ¡†æ¶å¤–éƒ¨çš„ `createElemenet` å‡½æ•°, å°† `JSX` è½¬æ¢æˆ `VirtualDOMå¯¹è±¡`
- 3. å®šä¹‰ å¼€æ”¾ç»™æ¡†æ¶å¤–éƒ¨çš„ `render` å‡½æ•°: `VirtualDOMå¯¹è±¡` è½¬æ¢æˆ `çœŸå®DOMå¯¹è±¡`
- 4. `render(virtualDOM, container, oldDOM)` -> `diff(virtualDOM, container, oldDOM)` -> `mountElement(virtualDOM, container)` -> `mountNativeElement(virtualDOM, container)` -> `createDomElement(VirtualDOM)`
- 5. `createDomElement` åˆ›å»ºèŠ‚ç‚¹( `newElement` ),  vituralDOMçš„children é€’å½’è°ƒç”¨ `mountElement()` . å°†åˆ›å»ºå¥½çš„ `newElement` è¿”å›ç»™`mountNativeElement` ,ç„¶åappendåˆ° `container` ä¸­

#### å‡½æ•°ç»„ä»¶
- ç»„ä»¶çš„ `VirtualDOM`ç±»å‹å€¼ä¸ºå‡½æ•°,å‡½æ•°ç»„ä»¶åˆç±»ç»„ä»¶éƒ½æ˜¯è¿™æ ·çš„.
```jsx
// åŸå§‹ç»„ä»¶
const Heart = () => <span>&hearts;</span>
// è°ƒç”¨
<Heart />
// è½¬æ¢å
{
    type: f function(){}, // ç±»å‹ä¸ºå‡½æ•°
    props:{},
    children: []
}
```

#### JSX è½¬æ¢è¿‡ç¨‹
- `jsx` æ˜¯ `React.createElement` çš„è¯­æ³•ç³–

```html
<!-- JSX -->
<div className="app">
  <div class="title"> I am Title </div>
  <div class="content"> I am content </div>
</div>
```

- `convert to below codes`
```js
// React.createElement
"use strict";

/*#__PURE__*/
React.createElement("div", {
  className: "app"
}, /*#__PURE__*/React.createElement("div", {
  class: "title"
}, " I am Title "), /*#__PURE__*/React.createElement("div", {
  class: "content"
}, " 
```
- `React.createElement()`è¿”å›å€¼å°±æ˜¯`Virtual DOM`
- 1. æˆ‘ä»¬å†™çš„ `JSX` å…ˆè¢« `Babel` è½¬æ¢ä¸º `React.createElement()` çš„è°ƒç”¨, 
- 2. è°ƒç”¨åä¼šè¿”å› `ReactElement`ç±»å‹çš„ `Virtual DOM`å¯¹è±¡, 
- 3. ç„¶å `React`å†å°†`Virtual DOM` å¯¹è±¡è½¬æ¢æˆ `çœŸå®DOM`
- 4. å†å°† `çœŸå®DOM` å¯¹è±¡æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š



## Q2. ä¸ºä»€ä¹ˆ React 16 ç‰ˆæœ¬ä¸­ render é˜¶æ®µæ”¾å¼ƒäº†ä½¿ç”¨é€’å½’
- åœ¨ `React 15` çš„ç‰ˆæœ¬ä¸­, é‡‡ç”¨äº†å¾ªç¯åŠ é€’å½’çš„æ–¹å¼è¿›è¡Œäº† `virtualDOM` çš„æ¯”å¯¹, ç”±äºé€’å½’ä½¿ç”¨ `JavaScript` è‡ªèº«çš„æ‰§è¡Œæ ˆ, ä¸€æ—¦å¼€å§‹å°±æ— æ³•åœæ­¢, ç›´åˆ°ä»»åŠ¡æ‰§è¡Œå®Œæˆ. å¦‚æœ `VirtualDOM` æ ‘çš„å±‚çº§æ¯”è¾ƒæ·±, `virtualDOM` çš„æ¯”å¯¹å°±ä¼šé•¿æœŸå ç”¨ `JavaScript` ä¸»çº¿ç¨‹, ç”±äº `JavaScript` åˆæ˜¯å•çº¿ç¨‹çš„æ— æ³•åŒæ—¶æ‰§è¡Œå…¶ä»–ä»»åŠ¡, æ‰€ä»¥åœ¨æ¯”å¯¹çš„è¿‡ç¨‹ä¸­æ— æ³•å“åº”ç”¨æˆ·æ“ä½œ, æ— æ³•å³æ—¶æ‰§è¡Œå…ƒç´ åŠ¨ç”», é€ æˆäº†é¡µé¢å¡é¡¿çš„ç°è±¡. 
- åœ¨ `React 16` çš„ç‰ˆæœ¬ä¸­, æ”¾å¼ƒäº† `JavaScript` é€’å½’çš„æ–¹å¼è¿›è¡Œ `virtualDOM` çš„æ¯”å¯¹, è€Œæ˜¯é‡‡ç”¨å¾ªç¯æ¨¡æ‹Ÿé€’å½’. è€Œä¸”æ¯”å¯¹çš„è¿‡ç¨‹æ˜¯åˆ©ç”¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´å®Œæˆçš„, ä¸ä¼šé•¿æœŸå ç”¨ä¸»çº¿ç¨‹, è¿™å°±è§£å†³äº† `virtualDOM` æ¯”å¯¹é€ æˆé¡µé¢å¡é¡¿çš„é—®é¢˜. 
- åœ¨ `window` å¯¹è±¡ä¸­æä¾›äº† `requestIdleCallback API`, å®ƒå¯ä»¥åˆ©ç”¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´æ‰§è¡Œä»»åŠ¡, ä½†æ˜¯å®ƒè‡ªèº«ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜, æ¯”å¦‚è¯´å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒå®ƒ, è€Œä¸”å®ƒçš„è§¦å‘é¢‘ç‡ä¹Ÿä¸æ˜¯å¾ˆç¨³å®š, æ‰€ä»¥ `React` æœ€ç»ˆæ”¾å¼ƒäº† `requestIdleCallback` çš„ä½¿ç”¨. 
- åœ¨ `React` ä¸­, å®˜æ–¹å®ç°äº†è‡ªå·±çš„ä»»åŠ¡è°ƒåº¦åº“, è¿™ä¸ªåº“å°±å«åš `Scheduler`. å®ƒä¹Ÿå¯ä»¥å®ç°åœ¨æµè§ˆå™¨ç©ºé—²æ—¶æ‰§è¡Œä»»åŠ¡, è€Œä¸”è¿˜å¯ä»¥è®¾ç½®ä»»åŠ¡çš„ä¼˜å…ˆçº§, é«˜ä¼˜å…ˆçº§ä»»åŠ¡å…ˆæ‰§è¡Œ, ä½ä¼˜å…ˆçº§ä»»åŠ¡åæ‰§è¡Œ. 


## Q3. è¯·ç®€è¿° React 16 ç‰ˆæœ¬ä¸­ commit é˜¶æ®µçš„ä¸‰ä¸ªå­é˜¶æ®µåˆ†åˆ«åšäº†ä»€ä¹ˆäº‹æƒ…
- é˜¶æ®µ1: æ‰§è¡Œ`commitBeforeMutationEffects` æ¥ `è°ƒç”¨ç±»ç»„ä»¶çš„ getSnapshotBeforeUpdate ç”Ÿå‘½å‘¨æœŸå‡½æ•°`
- é˜¶æ®µ2: æ‰§è¡Œ`commitMutationEffects` ç„¶å `æ ¹æ®effectTagæ‰§è¡Œ DOM æ“ä½œ` => æ‰§è¡Œ (`æ’å…¥`, `æ’å…¥+æ›´æ–°`, `æœåŠ¡å™¨ç«¯æ¸²æŸ“`, `æ›´æ–°`, `åˆ é™¤`) æ“ä½œ
- é˜¶æ®µ3: æ‰§è¡Œ`commitLayoutEffects`,è°ƒç”¨`ç±»ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°` å’Œ `å‡½æ•°ç»„ä»¶çš„é’©å­å‡½æ•°`, å®Œæˆæ›´æ–°

## Q4. è¯·ç®€è¿° workInProgress Fiber æ ‘å­˜åœ¨çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ
- ä½¿ç”¨ `alternate` å­˜å‚¨ `current`  => `workInProgress.alternate = current`
- ä½¿ç”¨ `alternate` å­˜å‚¨ `workInProgress` => `current.alternate = workInProgress`
- åœ¨å†…å­˜ä¸­å®Œæˆå·®å¼‚æ¯”è¾ƒå’Œæ›´æ–°, å°†ç»“æœè¿”å›ä¼ é€’ç»™ `commit` é˜¶æ®µæ‰§è¡Œ, æ›´å¿«çš„å®Œæˆé¡µé¢æ¸²æŸ“

##### C2: åˆ›å»º React å…ƒç´ 
- æ¯ä¸€æ®µJSXéƒ½ä¼šè¢«Babelè½¬æ¢æˆReact.createElement()çš„è°ƒç”¨ ===> React å…ƒç´ 
```js
function f(type, config, children, other1, other2){
    let props = {}
    const childrenLength = arguments.length - 2 // ä»ç¬¬3ä¸ªå‚æ•°å¼€å§‹
     if (childrenLength === 1) {
        props.children = children;
    } else if (childrenLength > 1) {
        const childArray = Array(childrenLength);
        for (let i = 0; i < childrenLength; i++) {
            childArray[i] = arguments[i + 2];
        }
        props.children = childArray;
    }
}
```

##### C3: React æ¶æ„
- ä½¿ç”¨ `Fiber Reconciler`  æ›¿ä»£äº† `Stack Reconciler` æ–¹æ¡ˆ
- `Fiber Reconciler`: è°ƒåº¦å±‚(`Scheduler`), åè°ƒå±‚(`Reconciler`), æ¸²æŸ“å±‚(`Renderer`)
- è°ƒåº¦å±‚(`Scheduler`): è°ƒåº¦ä»»åŠ¡çš„ä¼˜å…ˆçº§,é«˜ä¼˜å…ˆçº§ä»»åŠ¡ä¼˜å…ˆè¿›å…¥åè°ƒå™¨
- åè°ƒå±‚(`Reconciler`): æ„å»º `Fiber`å¯¹è±¡,æ‰¾å‡ºå·®å¼‚,è®°å½•`Fiber`å¯¹è±¡è¦è¿›è¡Œçš„DOMæ“ä½œ
- æ¸²æŸ“å±‚(`Renderer`): è´Ÿè´£å°†å‘ç”Ÿå˜åŒ–çš„éƒ¨åˆ†æ¸²æŸ“åˆ°é¡µé¢ä¸Š

#### Fiber Scheduler
- åœ¨ `React 15` çš„ç‰ˆæœ¬ä¸­, é‡‡ç”¨äº†å¾ªç¯åŠ é€’å½’çš„æ–¹å¼è¿›è¡Œäº† `virtualDOM` çš„æ¯”å¯¹, ç”±äºé€’å½’ä½¿ç”¨ `JavaScript` è‡ªèº«çš„æ‰§è¡Œæ ˆ, ä¸€æ—¦å¼€å§‹å°±æ— æ³•åœæ­¢, ç›´åˆ°ä»»åŠ¡æ‰§è¡Œå®Œæˆ. å¦‚æœ `VirtualDOM` æ ‘çš„å±‚çº§æ¯”è¾ƒæ·±, `virtualDOM` çš„æ¯”å¯¹å°±ä¼šé•¿æœŸå ç”¨ `JavaScript` ä¸»çº¿ç¨‹, ç”±äº `JavaScript` åˆæ˜¯å•çº¿ç¨‹çš„æ— æ³•åŒæ—¶æ‰§è¡Œå…¶ä»–ä»»åŠ¡, æ‰€ä»¥åœ¨æ¯”å¯¹çš„è¿‡ç¨‹ä¸­æ— æ³•å“åº”ç”¨æˆ·æ“ä½œ, æ— æ³•å³æ—¶æ‰§è¡Œå…ƒç´ åŠ¨ç”», é€ æˆäº†é¡µé¢å¡é¡¿çš„ç°è±¡. 
- åœ¨ `React 16` çš„ç‰ˆæœ¬ä¸­, æ”¾å¼ƒäº† `JavaScript` é€’å½’çš„æ–¹å¼è¿›è¡Œ `virtualDOM` çš„æ¯”å¯¹, è€Œæ˜¯é‡‡ç”¨å¾ªç¯æ¨¡æ‹Ÿé€’å½’. è€Œä¸”æ¯”å¯¹çš„è¿‡ç¨‹æ˜¯åˆ©ç”¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´å®Œæˆçš„, ä¸ä¼šé•¿æœŸå ç”¨ä¸»çº¿ç¨‹, è¿™å°±è§£å†³äº† `virtualDOM` æ¯”å¯¹é€ æˆé¡µé¢å¡é¡¿çš„é—®é¢˜. 
- åœ¨ `window` å¯¹è±¡ä¸­æä¾›äº† `requestIdleCallback API`, å®ƒå¯ä»¥åˆ©ç”¨æµè§ˆå™¨çš„ç©ºé—²æ—¶é—´æ‰§è¡Œä»»åŠ¡, ä½†æ˜¯å®ƒè‡ªèº«ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜, æ¯”å¦‚è¯´å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨éƒ½æ”¯æŒå®ƒ, è€Œä¸”å®ƒçš„è§¦å‘é¢‘ç‡ä¹Ÿä¸æ˜¯å¾ˆç¨³å®š, æ‰€ä»¥ `React` æœ€ç»ˆæ”¾å¼ƒäº† `requestIdleCallback` çš„ä½¿ç”¨. 
- åœ¨ `React` ä¸­, å®˜æ–¹å®ç°äº†è‡ªå·±çš„ä»»åŠ¡è°ƒåº¦åº“, è¿™ä¸ªåº“å°±å«åš `Scheduler`. å®ƒä¹Ÿå¯ä»¥å®ç°åœ¨æµè§ˆå™¨ç©ºé—²æ—¶æ‰§è¡Œä»»åŠ¡, è€Œä¸”è¿˜å¯ä»¥è®¾ç½®ä»»åŠ¡çš„ä¼˜å…ˆçº§, é«˜ä¼˜å…ˆçº§ä»»åŠ¡å…ˆæ‰§è¡Œ, ä½ä¼˜å…ˆçº§ä»»åŠ¡åæ‰§è¡Œ. 

#### Fiber Reconciler
- åœ¨ `React 15` çš„ç‰ˆæœ¬ä¸­, åè°ƒå™¨å’Œæ¸²æŸ“å™¨äº¤æ›¿æ‰§è¡Œ, å³æ‰¾åˆ°äº†å·®å¼‚å°±ç›´æ¥æ›´æ–°å·®å¼‚.
- åœ¨ `React 16` çš„ç‰ˆæœ¬ä¸­, è¿™ç§æƒ…å†µå‘ç”Ÿäº†å˜åŒ–, åè°ƒå™¨å’Œæ¸²æŸ“å™¨ä¸å†äº¤æ›¿æ‰§è¡Œ.åè°ƒå™¨è´Ÿè´£æ‰¾å‡ºå·®å¼‚, åœ¨æ‰€æœ‰å·®å¼‚æ‰¾å‡ºä¹‹å, ç»Ÿä¸€äº¤ç»™æ¸²æŸ“å™¨è¿›è¡Œ DOM çš„æ›´æ–°.ä¹Ÿå°±æ˜¯è¯´åè°ƒå™¨çš„ä¸»è¦ä»»åŠ¡å°±æ˜¯æ‰¾å‡ºå·®å¼‚éƒ¨åˆ†, å¹¶ä¸ºå·®å¼‚æ‰“ä¸Šæ ‡è®°.

#### Fiber Renderer 
- æ¸²æŸ“å™¨æ ¹æ®åè°ƒå™¨ä¸º `Fiber` èŠ‚ç‚¹æ‰“çš„æ ‡è®°, åŒæ­¥æ‰§è¡Œå¯¹åº”çš„`DOM`æ“ä½œ.
- æ—¢ç„¶æ¯”å¯¹çš„è¿‡ç¨‹ä»é€’å½’å˜æˆäº†å¯ä»¥ä¸­æ–­çš„å¾ªç¯, é‚£ä¹ˆ `React` æ˜¯å¦‚ä½•è§£å†³ä¸­æ–­æ›´æ–°æ—¶ `DOM` æ¸²æŸ“ä¸å®Œå…¨çš„é—®é¢˜å‘¢ï¼Ÿ
- å…¶å®æ ¹æœ¬å°±ä¸å­˜åœ¨è¿™ä¸ªé—®é¢˜, å› ä¸ºåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­, è°ƒåº¦å™¨å’Œåè°ƒå™¨çš„å·¥ä½œæ˜¯åœ¨å†…å­˜ä¸­å®Œæˆçš„æ˜¯å¯ä»¥è¢«æ‰“æ–­çš„, æ¸²æŸ“å™¨çš„å·¥ä½œè¢«è®¾å®šæˆä¸å¯ä»¥è¢«æ‰“æ–­, æ‰€ä»¥ä¸å­˜åœ¨DOM æ¸²æŸ“ä¸å®Œå…¨çš„é—®é¢˜.


#### Fiber çš„æ•°æ®ç»“æ„
- ç”± `VirtualDOM` æ¼”å˜è€Œæ¥
```js
type Fiber = {
    /***************** ğŸš€ğŸš€ DOM å®ä¾‹ ç›¸å…³ ğŸš€ğŸš€ *********************/
    // æ ‡è®°ä¸åŒçš„ç»„ä»¶ç±»å‹: 0-22
    tag: WorkTag,
    
    // ç»„ä»¶ç±»å‹: div, span, ç»„ä»¶æ„é€ å‡½æ•°
    type: any,

    // å®ä¾‹å¯¹è±¡, å¦‚ç±»ç»„ä»¶çš„å®ä¾‹, åŸç”Ÿdomå®ä¾‹, è€Œfunctionç»„ä»¶æ²¡æœ‰å®ä¾‹, å› æ­¤è¯¥å±æ€§ä¸ºç©º
    stateNode: any,

    /***************** ğŸš€ğŸš€ æ„å»ºFiber ç›¸å…³ ğŸš€ğŸš€ *********************/
    // æŒ‡å‘è‡ªå·±çš„çˆ¶çº§ Fiber å¯¹è±¡
    return: Fiber | null,
    // æŒ‡å‘è‡ªå·±çš„ç¬¬ä¸€ä¸ªå­çº§ Fiber å¯¹è±¡
    child: Fiber | null,
    // æŒ‡å‘è‡ªå·±çš„ä¸‹ä¸€ä¸ªå…„å¼Ÿ Fiberå¯¹è±¡
    sibling: Fiber| null,

    // åœ¨Fiberæ ‘æ›´æ–°çš„è¿‡ç¨‹ä¸­, æ¯ä¸ªFiberéƒ½ä¼šæœ‰ä¸€ä¸ªè·Ÿå…¶å¯¹åº”çš„Fiber
    // æˆ‘ä»¬ç§°å®ƒä¸º current <<======>> workInProgress
    // åœ¨æ¸²æŸ“å®Œæˆä¹‹åä»–ä»¬ä¼šäº¤æ¢ä½ç½®
    // alternate æŒ‡å‘å½“å‰Fiberåœ¨workInProgressæ ‘ä¸­å¯¹åº”çš„Fiber

    /***************** ğŸš€ğŸš€ çŠ¶æ€æ•°æ® ç›¸å…³ ğŸš€ğŸš€ *********************/
    // å³å°†æ›´æ–°çš„ props
    pendingProps: any,
    // æ—§çš„ props
    memoizedProps: any,
    // æ—§çš„ state
    memorizedState: any,

    /***************** ğŸš€ğŸš€ å‰¯ä½œç”¨ ç›¸å…³ ğŸš€ğŸš€ *********************/
    // è¯¥ Fiber å¯¹åº”çš„ç»„ä»¶äº§ç”Ÿçš„çŠ¶æ€æ›´æ–°ä¼šå­˜æ”¾åœ¨è¿™ä¸ªé˜Ÿåˆ—é‡Œé¢
    updateQueue: UpdateQueue<any> | null,
    // ç”¨æ¥è®°å½•å½“å‰ Fiberè¦æ‰§è¡Œçš„ DOM æ“ä½œ
    effectTag: SideEffectTag,
    // å­æ ‘ä¸­ç¬¬ä¸€ä¸ª side effect
    firstEffect: Fiber | null,
    // å•é“¾è¡¨ç”¨æ¥å¿«é€ŸæŸ¥æ‰¾ä¸‹ä¸€ä¸ª side effect
    nextEffect: Fiber | null,
    // å­æ ‘ä¸­æœ€åä¸€ä¸ª side effect
    lastEffect: Fiber | null,
    // ä»»åŠ¡çš„è¿‡æœŸæ—¶é—´
    expirationTime: ExpirationTime,
    // å½“å‰ç»„ä»¶åŠå­ç»„ä»¶å¤„äºä½•ç§æ¸²æŸ“æ¨¡å¼
    mode: TypeOfMode
}
```